<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <link rel="icon" href="/note/images/main.jpeg"><title>第十章、DOM | 前端学习笔记</title><meta name="description" content="记录各种前端知识的学习笔记"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.22">
    <link rel="preload" href="/note/assets/js/runtime~app.c74244ae.js" as="script"><link rel="preload" href="/note/assets/css/styles.52538e5b.css" as="style"><link rel="preload" href="/note/assets/js/4640.740cb415.js" as="script"><link rel="preload" href="/note/assets/js/app.0fea44f1.js" as="script">
    <link rel="stylesheet" href="/note/assets/css/styles.52538e5b.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/note/" class=""><img class="logo" src="/note/images/main.jpeg" alt="前端学习笔记"><span class="site-name can-hide">前端学习笔记</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端书籍笔记"><span class="title">前端书籍笔记</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端书籍笔记"><span class="title">前端书籍笔记</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/note/js-develop/1.html" class="nav-link" aria-label="《JavaScript高级程序设计》"><!--[--><!--]--> 《JavaScript高级程序设计》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/note/js-algorithms/1.html" class="nav-link" aria-label="《JavaScript数据结构与算法》"><!--[--><!--]--> 《JavaScript数据结构与算法》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/note/css-secret/1.html" class="nav-link" aria-label="《css揭秘》"><!--[--><!--]--> 《css揭秘》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/note/js-njia/1.html" class="nav-link" aria-label="《JavaScript忍者秘籍》"><!--[--><!--]--> 《JavaScript忍者秘籍》 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="各类知识点"><span class="title">各类知识点</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="各类知识点"><span class="title">各类知识点</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/note/flex" class="nav-link" aria-label="Flex布局"><!--[--><!--]--> Flex布局 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/note/grid" class="nav-link" aria-label="Grid布局"><!--[--><!--]--> Grid布局 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/note/git" class="nav-link" aria-label="git相关操作"><!--[--><!--]--> git相关操作 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/note/sort/1.html" class="nav-link" aria-label="排序算法"><!--[--><!--]--> 排序算法 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Typescript"><span class="title">Typescript</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Typescript"><span class="title">Typescript</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/note/ts-challenges" class="nav-link" aria-label="Typescript类型挑战"><!--[--><!--]--> Typescript类型挑战 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/note/write/1.html" class="nav-link" aria-label="手写系列"><!--[--><!--]--> 手写系列 <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/yqwoshuai/note" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端书籍笔记"><span class="title">前端书籍笔记</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端书籍笔记"><span class="title">前端书籍笔记</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/note/js-develop/1.html" class="nav-link" aria-label="《JavaScript高级程序设计》"><!--[--><!--]--> 《JavaScript高级程序设计》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/note/js-algorithms/1.html" class="nav-link" aria-label="《JavaScript数据结构与算法》"><!--[--><!--]--> 《JavaScript数据结构与算法》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/note/css-secret/1.html" class="nav-link" aria-label="《css揭秘》"><!--[--><!--]--> 《css揭秘》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/note/js-njia/1.html" class="nav-link" aria-label="《JavaScript忍者秘籍》"><!--[--><!--]--> 《JavaScript忍者秘籍》 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="各类知识点"><span class="title">各类知识点</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="各类知识点"><span class="title">各类知识点</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/note/flex" class="nav-link" aria-label="Flex布局"><!--[--><!--]--> Flex布局 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/note/grid" class="nav-link" aria-label="Grid布局"><!--[--><!--]--> Grid布局 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/note/git" class="nav-link" aria-label="git相关操作"><!--[--><!--]--> git相关操作 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/note/sort/1.html" class="nav-link" aria-label="排序算法"><!--[--><!--]--> 排序算法 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Typescript"><span class="title">Typescript</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Typescript"><span class="title">Typescript</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/note/ts-challenges" class="nav-link" aria-label="Typescript类型挑战"><!--[--><!--]--> Typescript类型挑战 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/note/write/1.html" class="nav-link" aria-label="手写系列"><!--[--><!--]--> 手写系列 <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/yqwoshuai/note" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item active"></p><ul class=""><li><!--[--><a href="/note/js-develop/1.html" class="nav-link sidebar-item" aria-label="第一章、JavaScript 简介"><!--[--><!--]--> 第一章、JavaScript 简介 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/note/js-develop/2.html" class="nav-link sidebar-item" aria-label="第二章、在HTML中使用JavaScript"><!--[--><!--]--> 第二章、在HTML中使用JavaScript <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/note/js-develop/3.html" class="nav-link sidebar-item" aria-label="第三章、基本概念"><!--[--><!--]--> 第三章、基本概念 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/note/js-develop/4.html" class="nav-link sidebar-item" aria-label="第四章、变量，作用于和内存问题"><!--[--><!--]--> 第四章、变量，作用于和内存问题 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/note/js-develop/5.html" class="nav-link sidebar-item" aria-label="第五章、引用类型"><!--[--><!--]--> 第五章、引用类型 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/note/js-develop/6.html" class="nav-link sidebar-item" aria-label="第六章、面向对象的程序设计"><!--[--><!--]--> 第六章、面向对象的程序设计 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/note/js-develop/8.html" class="nav-link sidebar-item" aria-label="第八章、BOM"><!--[--><!--]--> 第八章、BOM <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/note/js-develop/10.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="第十章、DOM"><!--[--><!--]--> 第十章、DOM <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/note/js-develop/10.html#节点层次" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="节点层次"><!--[--><!--]--> 节点层次 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/note/js-develop/10.html#node类型" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Node类型"><!--[--><!--]--> Node类型 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/note/js-develop/10.html#doucment类型" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Doucment类型"><!--[--><!--]--> Doucment类型 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/note/js-develop/10.html#element类型" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Element类型"><!--[--><!--]--> Element类型 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/note/js-develop/10.html#dom操作技术" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="DOM操作技术"><!--[--><!--]--> DOM操作技术 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/note/js-develop/10.html#动态脚本" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="动态脚本"><!--[--><!--]--> 动态脚本 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/note/js-develop/10.html#动态样式" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="动态样式"><!--[--><!--]--> 动态样式 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/note/js-develop/10.html#操作表格" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="操作表格"><!--[--><!--]--> 操作表格 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/note/js-develop/10.html#使用nodelist" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="使用NodeList"><!--[--><!--]--> 使用NodeList <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--></li><li><!--[--><a href="/note/js-develop/11.html" class="nav-link sidebar-item" aria-label="第十一章、DOM扩展"><!--[--><!--]--> 第十一章、DOM扩展 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/note/js-develop/12.html" class="nav-link sidebar-item" aria-label="第十二章、DOM2和DOM3"><!--[--><!--]--> 第十二章、DOM2和DOM3 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/note/js-develop/13.html" class="nav-link sidebar-item" aria-label="第十三章、事件"><!--[--><!--]--> 第十三章、事件 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/note/js-develop/14.html" class="nav-link sidebar-item" aria-label="第十四章、表单脚本"><!--[--><!--]--> 第十四章、表单脚本 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/note/js-develop/20.html" class="nav-link sidebar-item" aria-label="第二十章、JSON"><!--[--><!--]--> 第二十章、JSON <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="第十章、dom" tabindex="-1"><a class="header-anchor" href="#第十章、dom" aria-hidden="true">#</a> 第十章、DOM</h1><h2 id="节点层次" tabindex="-1"><a class="header-anchor" href="#节点层次" aria-hidden="true">#</a> 节点层次</h2><p>DOM可以将任何HTML和XML文档描绘成一个由多层节点构成的结构，文档节点只有一个子节点，即&lt;html&gt;元素，称之为文档元素，文档元素是最外层元素，文档中的其他所有元素都包含在文档元素中，每个文档只能有一个文档元素。</p><h3 id="node类型" tabindex="-1"><a class="header-anchor" href="#node类型" aria-hidden="true">#</a> Node类型</h3><p>所有节点类型都继承自Node类型，因此所有节点类型都共享相同的基本属性和方法。总共有12种节点类型，每个节点都有一个nodeType属性，用于表明节点类型，是一个常量。nodeName和nodeValue两个属性中保存着节点的信息。 每个节点都有一个childNodes属性。其中保存着一个NodeList对象，用于保存一组有序的节点，它实际上是基于DOM结构动态执行查询的结果，因此DOM结构变化能够自动反应在NodeList对象中。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 将NodeList对象转为数组</span>
<span class="token keyword">function</span> <span class="token function">toArray</span><span class="token punctuation">(</span><span class="token parameter">nodes</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
	    arr <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>nodes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// IE8以前需要枚举所有成员</span>
	    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token operator">=</span>nodes<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	        arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>每个节点都有parentNode属性，指向文档树中的父节点。同一个childNodes列表中的所有节点都具有相同的父节点。因此它们的parentNode属性都指向同一个节点。包含在childNodes列表中的每个节点相互之间都是同胞节点，previousSibling表示前一节点，nextSibling表示后一节点。父节点的firstChild表示childNodes列表中的第一个节点，lastChild表示childNodes列表中的最后一个节点。也可以用方括号表示。即firstChild等于childNodes[0]，lastChild等于childNodes[childNodes.length-1]。</p><p>节点的hasChildNodes()方法在节点包含一个或多个子节点时返回true。所有节点都有ownerDocument属性，指向表示整个文档的文档节点。</p><p>appendChild()方法用于向childNodes列表末尾添加一个节点，并返回新添加的节点。如果传给该方法的节点已经是文档中的一部分，那结果就是将该节点从原来的位置转移到新位置。</p><p>insertBefore()方法用于将节点插入childNodes列表中特定的位置，这个方法接收两个参数，要插入的节点和作为参照的节点，插入后返回被插入的节点，参照节点为null时与appendChild()方法相同。</p><p>replaceChild()方法用于替换childNodes列表中的节点，这个方法接收两个参数，要插入的节点和要替换的节点，要替换的节点会从文档树中被移除，并被这个方法返回。</p><p>removeChild()方法用于移除childNodes列表中的节点，接收一个参数，即被移除的节点，被移除的节点将作为返回值返回。</p><p>cloneNode()方法用于创建调用和这个方法的节点的一个完全相同的副本，始终接收一个布尔值参数，表示是否执行深度复制，即复制节点及其整个子节点树，在参数为false时，只执行浅复制，即只复制节点本身。</p><h3 id="doucment类型" tabindex="-1"><a class="header-anchor" href="#doucment类型" aria-hidden="true">#</a> Doucment类型</h3><p>最常见的Doucment类型就是作为HTMLDocument实例的document对象。<br> document.documentElement属性指向&lt;html&gt;元素；<br> document.body属性指向&lt;body&gt;元素；<br> document.title属性包含&lt;title&gt;元素中的文本，可以通过这个取得当前页面的标题，也可以修改并反映在浏览器的标题中，但修改其值不会改变&lt;title&gt;元素；<br> document.URL属性保存页面完整的URL，即地址栏中显示的URL。<br> document.domain属性中包含当前页面的域名。<br> document.referrer属性中包含页面来源的URL。<br> 查找元素的方法：<br> document.getElementById()，按照元素ID进行查找；<br> document.getElementByTagName()，按照元素标签名进行查找，返回HTMLCollection对象；<br> document.getElementByName()，按照元素标name特性进行查找，返回HTMLCollection对象；<br> HTMLCollection对象有一个namedItem()方法，可以根据元素的name特性取得HTMLCollection对象中对应的对象。<br> 特殊合集：<br> document.anchors，包含文档中所有带有name特性的&lt;a&gt;元素；<br> document.forms，包含文档中所有&lt;form&gt;元素，与document.getElementByTagName(&quot;form&quot;)相同；<br> document.images，包含文档中所有&lt;img&gt;元素，与document.getElementByTagName(&quot;img&quot;)相同；<br> document.links，包含文档中所有带有href特性的&lt;a&gt;元素；<br> 特殊合集中的内容会随当前文档的更新而更新。</p><h3 id="element类型" tabindex="-1"><a class="header-anchor" href="#element类型" aria-hidden="true">#</a> Element类型</h3><p>Element节点即元素节点，提供了对元素标签名，子节点及特性的访问。<br> nodeType值为1；<br> noadeName值为元素标签名，与tagName值相同，输出的元素标签名为大写；</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>p id<span class="token operator">=</span><span class="token string">&quot;a&quot;</span><span class="token operator">&gt;</span>asd<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tagName<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// P</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// P</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>所有HTML元素都由HTMLElement类型表示，每个HTML元素都具有以下标准特性，下列特性均可以修改。<br> id，元素在文档中的唯一标识符；<br> title，有关元素附加说明信息；<br> lang，元素内容语言代码；<br> dir，语言的方向；<br> className，元素的class特性。<br> 特性修改方法：<br> getAttribute()，接收一个字符串参数，为需要获取的特性名称，直接获取传入特性的值，也可以获取自定义特性的值，并且不区分大小写，只有公认的（非自定义）特性才会以属性的形式添加到DOM对象当中，获取style特性值得到的是CSS文本，通过属性访问style得到的是一个对象，获取onclick之类事件处理程序特性值返回的是相应代码的字符串，通过属性访问onclick之类事件处理程序得到的是一个JavaScript函数（未指定事件处理程序则返回null）。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>p id<span class="token operator">=</span><span class="token string">&quot;a&quot;</span> myID<span class="token operator">=</span><span class="token string">&quot;b&quot;</span><span class="token operator">&gt;</span>asd<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// a</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>myID<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// undefined</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>setAttribute()，接收两个参数，一个为需要设置的特性名称，一个为需要设置的特性的值，如果需要设置的特性已经存在，则替换原有的特性值。<br> removeAttribute()，接收一个字符串参数，彻底删除元素的特性。<br> Element类型是使用attributes属性的唯一一个DOM节点类型。attributes属性中包含一个NamedNodeMap，与NodeList类型，是一个动态集合。每一个特性节点都保存在NamedNodeMap中，attributes属性仅在需要遍历元素特性的时候才用得到。每个特性节点都有一个specified属性，如果这个属性为true，则表示该特性要么是在HTML中指定的，要么是通过setAttribute()方法设置的。来自继承的特性和方法都为false。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>p id<span class="token operator">=</span><span class="token string">&quot;a&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;b&quot;</span> title<span class="token operator">=</span><span class="token string">&quot;c&quot;</span> data<span class="token operator">-</span>myID<span class="token operator">=</span><span class="token string">&quot;x&quot;</span><span class="token operator">&gt;</span>asd<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>i<span class="token operator">&lt;</span>p<span class="token punctuation">.</span>attributes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>attributes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>specified<span class="token punctuation">)</span><span class="token punctuation">{</span>
        obj<span class="token punctuation">[</span>p<span class="token punctuation">.</span>attributes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>nodeName<span class="token punctuation">]</span><span class="token operator">=</span>p<span class="token punctuation">.</span>attributes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>nodeValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {id: &quot;a&quot;, class: &quot;b&quot;, title: &quot;c&quot;, data-myid: &quot;x&quot;}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>使用document.createElement()可以创建新元素，传入需要创建的新元素名称，创建后就可以对其进行各种DOM操作，包括设置各种特性。但最后需要appendChild()、insertBefore()、replaceChild()等方法将其添加到DOM当中。<br> 浏览器会将元素之间的空白符解释为文本节点，如果需要通过childNodes属性遍历子节点，则需要对节点类型进行判断后再执行操作。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>i<span class="token operator">&lt;</span>ele<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>ele<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>nodeType <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 执行操作</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>每个元素应该只有一个文本子节点，使用normalize()方法可以将元素中的自文本节点合并成一个节点。</p><h2 id="dom操作技术" tabindex="-1"><a class="header-anchor" href="#dom操作技术" aria-hidden="true">#</a> DOM操作技术</h2><h3 id="动态脚本" tabindex="-1"><a class="header-anchor" href="#动态脚本" aria-hidden="true">#</a> 动态脚本</h3><p>在页面加载完成后动态加载外部javascript文件的通用方法。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;text/javascript&quot;</span><span class="token punctuation">;</span>
	script<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>
	document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>在页面加载完成后动态加载外部javascript代码片段的通用方法。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">loadScriptCode</span><span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;text/javascript&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// IE不允许访问script元素的子节点，所以需要用script元素的text属性来添加代码片段。</span>
	<span class="token keyword">try</span><span class="token punctuation">{</span>
	    script<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    script<span class="token punctuation">.</span>text <span class="token operator">=</span> code<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="动态样式" tabindex="-1"><a class="header-anchor" href="#动态样式" aria-hidden="true">#</a> 动态样式</h3><p>在页面加载完成后动态加载外部CSS文件的通用方法。注意CSS代码应该添加到head元素中，不是body元素中。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">loadStyle</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;link&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	link<span class="token punctuation">.</span>rel <span class="token operator">=</span> <span class="token string">&quot;stylesheet&quot;</span><span class="token punctuation">;</span>
	link<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;text/css&quot;</span><span class="token punctuation">;</span>
	link<span class="token punctuation">.</span>href <span class="token operator">=</span> url<span class="token punctuation">;</span>
	<span class="token keyword">var</span> head <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;head&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在页面加载完成后动态加载外部CSS代码片段的通用方法。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">loadStyleCode</span><span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> style <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;style&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    style<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;text/css&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// IE不允许访问style元素的子节点，所以需要用style元素的styleSheet属性的cssText属性来添加代码片段。</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        style<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">{</span>
        style<span class="token punctuation">.</span>styleSheet<span class="token punctuation">.</span>cssText <span class="token operator">=</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token keyword">var</span> head <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;head&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="操作表格" tabindex="-1"><a class="header-anchor" href="#操作表格" aria-hidden="true">#</a> 操作表格</h3><p>&lt;table&gt;元素具有以下属性和方法：<br> caption属性，保存着对&lt;caption&gt;元素的指针；<br> tBodies属性，&lt;tbody&gt;元素的HTMLCollection；<br> tFoot属性，保存着对&lt;tfoot&gt;元素的指针；<br> tHead属性，保存着对&lt;thead&gt;元素的指针；<br> rows属性，表格中所有行的HTMLCollection；<br> creatTHead()，创建&lt;thead&gt;元素，将其放到表格中，返回引用；<br> creatTFoot()，创建&lt;tfoot&gt;元素，将其放到表格中，返回引用；<br> creatCaption()，创建&lt;caption&gt;元素，将其放到表格中，返回引用；<br> deleteTHead()，删除&lt;thead&gt;元素；<br> deleteTFoot()，删除&lt;tfoot&gt;元素；<br> deleteCaption()，删除&lt;caption&gt;元素；<br> deleteRow()，删除指定参数的行；<br> insertRow()，向rows集合中指定位置插入行。<br> &lt;tbody&gt;元素具有以下属性和方法：<br> rows属性，&lt;tbody&gt;元素中所有行的HTMLCollection；<br> deleteRow()，删除指定参数的行；<br> insertRow()，向rows集合中指定位置插入行，返回对新插入行的引用。<br> &lt;tr&gt;元素具有以下属性和方法：<br> cells属性，&lt;tr&gt;元素中所有单元格的HTMLCollection；<br> deleteCells()，删除指定参数的行；<br> insertCells()，向cells集合中指定位置插入单元格，返回对新插入单元格的引用。</p><h3 id="使用nodelist" tabindex="-1"><a class="header-anchor" href="#使用nodelist" aria-hidden="true">#</a> 使用NodeList</h3><p>与NodeList类似的集合，NameNodeMap、HTMLCollection之类的，都是动态合集，文档结构发生变化时，它们也会得到更新。如果要迭代一个NodeList，最好使用length属性初始化第二个变量，以保证迭代的数量不会随着迭代而发生变化。应尽量减少对NodeList的访问，因为每次访问NodeList，都会运行一次基于文档的查询，所以应当将NodeList中取得的值缓存起来，方便多次使用。</p><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/note/js-develop/8.html" class="nav-link" aria-label="第八章、BOM"><!--[--><!--]--> 第八章、BOM <!--[--><!--]--></a></span><span class="next"><a href="/note/js-develop/11.html" class="nav-link" aria-label="第十一章、DOM扩展"><!--[--><!--]--> 第十一章、DOM扩展 <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main></div><!----><!--]--></div>
    <script src="/note/assets/js/runtime~app.c74244ae.js" defer></script><script src="/note/assets/js/4640.740cb415.js" defer></script><script src="/note/assets/js/app.0fea44f1.js" defer></script>
  </body>
</html>
